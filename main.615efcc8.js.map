{"version":3,"sources":["scripts/main.js"],"names":["tableHeader","document","querySelector","rowList","querySelectorAll","tbody","thead","headerNames","nameClicked","isClicked","addEventListener","e","item","target","textContent","children","i","length","listArr","removeSumbolSalary","a","replace","sort","x","y","localeCompare","element","prepend","classList","remove","parentElement","className","body","formCreate","createElement","append","innerHTML","button","row","div","notificationError","dataset","qa","setTimeout","notificationSuccess","preventDefault","person","position","office","age","salary","value","trim","newrow","cloneNode","lastElementChild","Intl","NumberFormat","format","editedCell","cell","closest","cellText","input","focus","ev","key"],"mappings":"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","file":"main.615efcc8.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst tableHeader = document.querySelector('thead');\n\nlet rowList = document.querySelectorAll('tbody >tr');\nconst tbody = document.querySelector('tbody');\n\nconst thead = document.querySelector('thead>tr');\nconst headerNames = document.querySelectorAll('thead>tr>th');\n\nfor (const nameClicked of headerNames) {\n  nameClicked.isClicked = false;\n};\n\ntableHeader.addEventListener('click', (e) => {\n  const item = e.target.textContent;\n\n  let children = 0;\n\n  for (let i = 0; i < thead.children.length; i++) {\n    if (item === thead.children[i].textContent) {\n      children = i;\n    }\n  }\n\n  const listArr = [...rowList];\n\n  function removeSumbolSalary(a) {\n    return +a.children[children].textContent.replace(/,/g, '').replace('$', '');\n  }\n\n  if (!e.target.isClicked) {\n    if (item === 'Salary') {\n      listArr.sort((x, y) => removeSumbolSalary(y) - removeSumbolSalary(x));\n    } else {\n      listArr.sort((x, y) =>\n        y.children[children].textContent\n          .localeCompare(x.children[children].textContent));\n    }\n\n    for (const element of listArr) {\n      tbody.prepend(element);\n    }\n    e.target.isClicked = true;\n\n    return;\n  };\n\n  if (e.target.isClicked) {\n    if (item === 'Salary') {\n      listArr.sort((x, y) => removeSumbolSalary(x) - removeSumbolSalary(y));\n    } else {\n      listArr.sort((x, y) =>\n        x.children[children].textContent\n          .localeCompare(y.children[children].textContent));\n    }\n\n    for (const element of listArr) {\n      tbody.prepend(element);\n    }\n\n    e.target.isClicked = false;\n\n    return;\n  };\n});\n\ntbody.addEventListener('click', (e) => {\n  for (const line of [...rowList]) {\n    line.classList.remove('active');\n  }\n\n  e.target.parentElement.className = 'active';\n});\n\nconst body = document.querySelector('body');\nconst formCreate = document.createElement('form');\n\nbody.append(formCreate);\nformCreate.className = 'new-employee-form';\n\nformCreate.innerHTML = `\n<label>\n  Name: \n  <input data-qa=\"name\" type=\"text\" name=\"name\" required>\n</label>\n\n<label >\nPosition: \n<input  data-qa=\"position\" type=\"text\" name=\"position\" required>\n</label>\n\n<label >\nOffice:\n  <select data-qa=\"office\"  required>\n  <option>Tokyo</option>\n  <option>Singapore</option>\n  <option>London</option>\n  <option>New York</option>\n  <option>Edinburgh</option>\n  <option>San Francisco</option>\n  </select>\n</label>\n\n<label >\nAge: \n<input data-qa=\"age\" type=\"number\" name=\"age\" required>\n</label>\n\n<label >\nSalary: \n<input data-qa=\"salary\" type=\"number\" name=\"salary\" required>\n</label>\n\n<button type=\"submitt\">Save to table</button>\n`;\n\nconst button = document.querySelector('button');\nconst row = document.createElement('tr');\nconst div = document.createElement('div');\n\nfunction notificationError() {\n  body.append(div);\n  div.dataset.qa = `notification`;\n  div.className = `notification error`;\n\n  div.innerHTML = `<h2 class='title'>ERROR </h2>\n  <p> Name and Position must be more then 3 letters.<br> \n  Age must be between 18 and 90. <br> \n  Salary must be positive\n  </p>`;\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n}\n\nfunction notificationSuccess() {\n  body.append(div);\n  div.dataset.qa = `notification`;\n  div.className = `notification success`;\n\n  div.innerHTML = `<h2 class='title'> success </h2>\n    <p> Information saved </p>`;\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n}\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const person = document.querySelector('input[data-qa=\"name\"]');\n  const position = document.querySelector('input[data-qa=\"position\"]');\n  const office = document.querySelector('select[data-qa=\"office\"]');\n  const age = document.querySelector('input[data-qa=\"age\"]');\n  const salary = document.querySelector('input[data-qa=\"salary\"]');\n\n  function clearInput() {\n    setTimeout(() => {\n      person.value = '';\n      position.value = '';\n      office.value = '';\n      age.value = '';\n      salary.value = '';\n    }, 1000);\n  }\n\n  if (person.value.trim().length < 4 || position.value.trim().length < 4) {\n    notificationError();\n\n    return;\n  }\n\n  if (age.value < 18 || age.value > 90) {\n    notificationError();\n\n    return;\n  }\n\n  if (salary.value <= 0) {\n    notificationError();\n\n    return;\n  }\n\n  if (!office.value) {\n    notificationError();\n\n    return;\n  }\n\n  const newrow = row.cloneNode(true);\n\n  tbody.append(newrow);\n\n  tbody.lastElementChild.innerHTML = `\n    <td>${person.value}</td>\n    <td>${position.value}</td>\n    <td>${office.value}</td>\n    <td>${age.value}</td>\n    <td>${'$' + Intl.NumberFormat('en-US').format(salary.value)}</td>`;\n\n  rowList = document.querySelectorAll('tbody >tr');\n\n  notificationSuccess();\n  clearInput();\n});\n\nlet editedCell = null;\n\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target.closest('td');\n\n  if (cell && !editedCell) {\n    const cellText = cell.textContent;\n\n    cell.textContent = '';\n\n    const input = document.createElement('input');\n\n    input.className = 'cell-input';\n\n    cell.append(input);\n    input.focus();\n\n    editedCell = cell;\n\n    input.addEventListener('blur', () => {\n      switch (cell) {\n        case cell.parentElement.children[0]:\n        case cell.parentElement.children[1]:\n\n          if (input.value.length >= 4) {\n            cell.textContent = input.value;\n            notificationSuccess();\n          } else {\n            cell.textContent = cellText;\n\n            notificationError();\n          }\n          break;\n\n        case cell.parentElement.children[2]:\n\n          if (input.value === 'Tokyo' || input.value === 'Singapore'\n          || input.value === 'New York' || input.value === 'Edinburgh'\n          || input.value === 'London' || input.value === 'San Francisco') {\n            cell.textContent = input.value;\n            notificationSuccess();\n          } else {\n            cell.textContent = cellText;\n\n            notificationError();\n          }\n          break;\n\n        case cell.parentElement.children[3]:\n\n          if ((+input.value > 18) && (+input.value < 90)) {\n            cell.textContent = input.value;\n            notificationSuccess();\n          } else {\n            notificationError();\n\n            cell.textContent = cellText;\n          }\n          break;\n\n        case cell.parentElement.children[4]:\n\n          if (+input.value >= 0) {\n            cell.textContent\n            = '$' + Intl.NumberFormat('en-US').format(input.value);\n            notificationSuccess();\n          } else {\n            cell.textContent = cellText;\n\n            notificationError();\n          }\n          break;\n      }\n\n      editedCell = null;\n    });\n\n    input.addEventListener('keydown', (ev) => {\n      if (ev.key === 'Enter') {\n        switch (cell) {\n          case cell.parentElement.children[0]:\n          case cell.parentElement.children[1]:\n\n            if (input.value.length >= 4) {\n              cell.textContent = input.value;\n              notificationSuccess();\n            } else {\n              cell.textContent = cellText;\n\n              notificationError();\n            }\n            break;\n\n          case cell.parentElement.children[2]:\n\n            if (input.value === 'Tokyo' || input.value === 'Singapore'\n            || input.value === 'New York' || input.value === 'Edinburgh'\n            || input.value === 'London' || input.value === 'San Francisco') {\n              cell.textContent = input.value;\n              notificationSuccess();\n            } else {\n              cell.textContent = cellText;\n\n              notificationError();\n            }\n            break;\n\n          case cell.parentElement.children[3]:\n\n            if ((+input.value > 18) && (+input.value < 90)) {\n              cell.textContent = input.value;\n              notificationSuccess();\n            } else {\n              notificationError();\n\n              cell.textContent = cellText;\n            }\n            break;\n\n          case cell.parentElement.children[4]:\n\n            if (+input.value > 0) {\n              cell.textContent\n              = '$' + Intl.NumberFormat('en-US').format(input.value);\n              notificationSuccess();\n            } else {\n              cell.textContent = cellText;\n\n              notificationError();\n            }\n            break;\n        }\n\n        editedCell = null;\n      }\n    });\n  }\n});\n"]}